{"version":3,"sources":["../node_modules/@tomnicolosi/storage-wrap/dist/storage-wrap.umd.js","index.js"],"names":["STORAGE_KEY","handle_error","error","output_target","document","querySelector","error_text","createTextNode","classList","add","innerHTML","appendChild","output_stored_value","stored_value","StorageWrap","storage_read","output_text","handle_click","e","text_input","getElementById","text_value","value","storage_write","handle_clear_click","storage_clear","window","addEventListener","init"],"mappings":";;;;;;AACA,IAAA,GADA,SAAA,EAAA,GAAA,iBAAA,SAAA,oBAAA,OAAA,OAAA,QAAA,IAAA,mBAAA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA,GAAA,MAAA,YAAA,IAAA,CAAA,KAAA,WAAA,aAAA,SAAA,EAAA,GAAA,IAAA,EAAA,IAAA,EAAA,OAAA,GAAA,IAAA,EAAA,mBAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,WAAA,IAAA,EAAA,MAAA,GAAA,OAAA,aAAA,eAAA,KAAA,EAAA,MAAA,OAAA,EAAA,MAAA,uBAAA,EAAA,MAAA,+BAAA,EAAA,OAAA,GAAA,IAAA,EAAA,QAAA,MAAA,CAAA,cAAA,SAAA,EAAA,gBAAA,IAAA,EAAA,GAAA,KAAA,2BAAA,OAAA,GAAA,SAAA,eAAA,SAAA,EAAA,EAAA,gBAAA,IAAA,EAAA,GAAA,KAAA,sCAAA,OAAA,GAAA,WAAA,IAAA,mBAAA,SAAA,EAAA,gBAAA,GAAA,EAAA,GAAA,OAAA,OAAA,GAAA,OAAA,KAAA,iCAAA,aAAA,SAAA,EAAA,EAAA,gBAAA,GAAA,EAAA,GAAA,OAAA,OAAA,GAAA,QAAA,GAAA,KAAA,gCAAA,cAAA,SAAA,EAAA,EAAA,EAAA,gBAAA,IAAA,EAAA,GAAA,KAAA,8BAAA,OAAA,GAAA,QAAA,EAAA;;ACKA,aALA,QAAA,cACA,IAAA,EAAA,EAAA,QAAA,8BAIA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAFA,IAAMA,EAAc,gBAEnB,WACYC,SAAAA,EAAcC,GACbC,IAAAA,EAAgBC,SAASC,cAAc,cACvCC,EAAaF,SAASG,eAAyBL,UAAAA,OAAAA,IACrDC,EAAcK,UAAUC,IAAI,SAC5BN,EAAcO,UAAY,GAC1BP,EAAcQ,YAAYL,GAGrBM,SAAAA,IACCT,IAAAA,EAAgBC,SAASC,cAAc,cACvCQ,EAAeC,EAAYC,QAAAA,aAAaf,GAExCgB,EACFH,EACET,SAASG,eAA0CM,2BAAAA,OAAAA,EADzC,OAEVT,SAASG,eAAe,4BAG9BJ,EAAcO,UAAY,GAC1BP,EAAcQ,YAAYK,GAGrBC,SAAAA,EAAcC,GACbC,IAAAA,EAAaf,SAASgB,eAAe,eACrCC,EAAaF,EAAWG,MAC1BD,GAAAA,EAAY,CACR,IACYE,EAAAA,QAAAA,cAAcvB,EAAaqB,GACvCT,IACF,MAAOV,GACLD,EAAaC,GAEjBiB,EAAWG,MAAQ,MAIlBE,SAAAA,EAAoBN,GACrB,IACYO,EAAAA,QAAAA,cAAc,gBAC1Bb,IACF,MAAOV,GACLD,EAAaC,IAkBrBwB,OAAOC,iBAAiB,OAdfC,WACD,IACAhB,IACF,MAAOV,GACLD,EAAaC,GAGEE,SAASC,cAAc,kBAC/BsB,iBAAiB,QAASV,GAEhBb,SAASC,cAAc,kBAC/BsB,iBAAiB,QAASH,KAzD9C","file":"src.1147e1b4.js","sourceRoot":"..\\src","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).StorageWrap=t()}(this,(function(){\"use strict\";function e(e){var t;try{t=window[e];var o=\"__storage_test__\";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||\"QuotaExceededError\"===e.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===e.name)&&t&&0!==t.length}}return{storage_clear:function(t=\"localStorage\"){if(!e(t))throw\"Unable to clear storage.\";window[t].clear()},storage_delete:function(t,o=\"localStorage\"){if(!e(o))throw\"Unable to remove item from storage.\";window[o].removeItem(t)},storage_get_length:function(t=\"localStorage\"){if(e(t))return window[t].length;throw\"Unable to get storage length.\"},storage_read:function(t,o=\"localStorage\"){if(e(o))return window[o].getItem(t);throw\"Unable to read from storage.\"},storage_write:function(t,o,r=\"localStorage\"){if(!e(r))throw\"Unable to write to storage.\";window[r].setItem(t,o)}}}));\n","import \"./main.css\";\r\nimport StorageWrap from \"@tomnicolosi/storage-wrap\";\r\n\r\nconst STORAGE_KEY = \"test_storage\";\r\n\r\n(function () {\r\n    function handle_error (error) {\r\n        const output_target = document.querySelector(\".js-output\");\r\n        const error_text = document.createTextNode(`Error: ${error}`);\r\n        output_target.classList.add(\"error\");\r\n        output_target.innerHTML = \"\";\r\n        output_target.appendChild(error_text);\r\n    };\r\n\r\n    function output_stored_value () {\r\n        const output_target = document.querySelector(\".js-output\");\r\n        const stored_value = StorageWrap.storage_read(STORAGE_KEY);\r\n\r\n        const output_text = (\r\n            stored_value\r\n            ? document.createTextNode(`Local storage contains \"${stored_value}\".`)\r\n            : document.createTextNode(\"There is no stored value\")\r\n        );\r\n        \r\n        output_target.innerHTML = '';\r\n        output_target.appendChild(output_text);\r\n    };\r\n\r\n    function handle_click (e) {\r\n        const text_input = document.getElementById(\"test-string\");\r\n        const text_value = text_input.value;\r\n        if (text_value) {\r\n            try {\r\n                StorageWrap.storage_write(STORAGE_KEY, text_value);\r\n                output_stored_value();\r\n            } catch (error) {\r\n                handle_error(error);\r\n            };\r\n            text_input.value = null;\r\n        };\r\n    };\r\n\r\n    function handle_clear_click (e) {\r\n        try {\r\n            StorageWrap.storage_clear(\"localStorage\");\r\n            output_stored_value();\r\n        } catch (error) {\r\n            handle_error(error);\r\n        };\r\n    };\r\n\r\n    function init () {\r\n        try {\r\n            output_stored_value();\r\n        } catch (error) {\r\n            handle_error(error);\r\n        };\r\n\r\n        const text_input = document.querySelector(\".js-store-data\");\r\n        text_input.addEventListener(\"click\", handle_click);\r\n\r\n        const clear_button = document.querySelector(\".js-clear-data\");\r\n        clear_button.addEventListener(\"click\", handle_clear_click);\r\n    };\r\n\r\n    window.addEventListener('load', init);\r\n}());"]}